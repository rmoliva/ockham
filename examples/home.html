<!DOCTYPE html>
<html id='doc'>
  <head>
    <title>Ockham</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.9.3/lodash.js' type='text/javascript'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/bluebird/2.9.30/bluebird.js' type='text/javascript'></script>
    <script src='../dist/ockham.max.js' type='text/javascript'></script>



    <script type="text/javascript">
    //<![CDATA[
     
    var fsm = Ockham.create({
      config: function(fsm) {
        return {
          states: {
            none: {
              init: 'off'
            },
            off: {
              start: this.start
            },
            on: {
              stop: 'stop'
            }
          }
        };
      },
      start: function(fsm, options) {
        return new Promise(function(resolve, reject) {
          resolve('on');
        });
      },
      stop: function(fsm, options) {
        return new Promise(function(resolve, reject) {
          resolve('off');
        });
      }
    });

    fsm.doTransition('init', {1: "Uno",2: "Dos"}).then(function(data) {
      // green 
      return fsm.doTransition('start');
    }).then(function() {
      console.log(arguments);
    });
    
    //]]>
    </script>

  </head>
  <body>
    <div id="main_content">
  </body>
</html>
